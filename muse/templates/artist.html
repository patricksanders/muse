{% extends "templates/base.html" %}
{% block ajax %}
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
<script>
$(document).ready(function()
{
	// initBinding();
	$.getJSON('/artist?name={{ artist_name }}&section=stats', 
			function(data) {
				var hot_width = "width:" + data['hotttnesss'] + "%;";
				$('#hot_bar').attr("style", hot_width);
				var fam_width = "width:" + data['familiarity'] + "%;";
				$('#fam_bar').attr("style", fam_width);
				var dance_width = "width:" + data['danceability'] + "%;";
				$('#dance_bar').attr("style", dance_width);
				console.log(data);
			});
});
// function initBinding() 
// { 
// 	$("#danceability-bar").attr("style", "width: 0%;"); 
// }
</script>
{% endblock %}

{% block bodycontent %}
<div class="row">
	<div class="thumbnail span3">
		<a href="{{ image_url }}"><img src="{{ image_url }}" alt="{{ artist_name }}"/></a>
	</div>
	<div class="span8">
		<h1>{{ artist_name }}</h1>
		<div class="well well-small">
			<h4>Popularity</h4>
			<div class="progress">
				<div class="bar bar-info" id="hot_bar"></div>
				<div class="bar bar-success" id="fam_bar"></div>
			</div>
			<h4>Average Danceability</h4>
			<div class="progress">
				<div class="bar bar-info" id="dance_bar"></div>
			</div>
			<h4>Genres</h4>
			<ul class="inline">
				<span id="genre_list"></span>
			</ul>
			<h4>Similar</h4>
			<ul class="inline">
				<span id="similar_list"></span>
			</ul>
		</div>
	</div>
</div>
<hr class="featurette-divider">

<div class="featurette">
  <i class="icon-time featurette-image pull-right"></i>
  <h2 class="featurette-heading"><span class="muted">{{ artist_name }} has an average song length of</span> <span id="avg_song_length"></span> minutes<span class="muted">.</span></h2>
  <p class="lead">Based on <span id="total_songs"></span> popular songs, with a total length of <span id="total_song_length"></span> minutes.</p>
</div>

<hr class="featurette-divider">

<div class="featurette">
  <i class="icon-laptop featurette-image pull-left"></i>
  <h2 class="featurette-heading">This is a placeholder. <span class="muted">For now.</span></h2>
  <p class="lead">Words, words, and more words.</p>
</div>

<hr class="featurette-divider">

<div class="featurette">
  <i class="icon-quote-right featurette-image pull-right"></i>
  <h2 class="featurette-heading"><span class="muted">There are</span> <span id="blog_count"></span> people <span class="muted">blogging about {{ artist_name }}.</span></h2>
  <p class="lead">
	  Here are a few:
	  <ul>
		<li><span id="blog1"></span></li>
		<li><span id="blog2"></span></li>
		<li><span id="blog3"></span></li>
		<li><span id="blog4"></span></li>
		<li><span id="blog5"></span></li>
	  </ul>
  </p>
</div>

<hr class="featurette-divider">
{% endblock %}

{% block tracking %}
	{{ tracking }}
{% endblock %}